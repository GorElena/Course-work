# **Курсовой проект по модулю "Автоматизация тестирования" для профессии "Инженер по тестированию".**
## **Веб-приложение "Путешествие дня".**

### **Описание приложения.**
_Веб-приложение представляет собой сервис по покупке тура, который можно оплатить двумя способами:_

1. Оплата дебетовой картой.
2. Оплата кредитной картой.

_Сервис обрабатывает только специальные номера карт:_
1. APPROVED карта - 1111 2222 3333 4444.
2. DECLINED карта - 5555 6666 7777 8888.
Остальные данные карт могут быть любыми, но год не должен быть прошлым, а CVC состоит из трёх цифр.
   
_Само приложение не обрабатывает данные по картам, а пересылает их банковским сервисам:_
1. Сервису платежей - Payment Gate.
2. Кредитному сервису - Credit Gate.

_Приложение в собственной СУБД сохраняет информацию о том,  успешно ли был совершён платёж и каким способом. Сохранение данных карт не допускается._

# **Начало работы.**
GitHub - нужно создать проект на своем ПК для запуска и тестирования. Список программного обеспечения, которое должно быть установлено на ПК, для реализации тестов:

1. IntelliJ IDEA.
2. Docker Desktop.
3. Google Chrome или другой браузер.
4. Git.

## **Установка и запуск.**
1. Запустить контейнер из файла docker-compose.yml, используя команду в терминале:
   ```
   docker-compose up 
   ```

2. Запустить SUT в терминале при помощи команды:
   - для MySQL:
     
     ```
     java "-Dspring.datasource.url=jdbc:mysql://localhost:3306/app" -jar artifacts/aqa-shop.jar
     ```

   - для PostgreSQL:

     ```
     java "-Dspring.datasource.url=jdbc:postgresql://localhost:5432/app" -jar artifacts/aqa-shop.jar
     ```

   Сервис будет запущен в браузере по адресу: http://localhost:8080

3. Запустить автотесты в терминале при помощи команды:
 - для MySQL:
   
```
./gradlew clean test "-Ddb.url=jdbc:mysql://localhost:3306/app
   ```
- для PostgreSQL:
  
```
./gradlew clean test "-Ddb.url=jdbc:postgresql://localhost:5432/app"
   ```

4. Сгенерировать отчёт по итогам тестирования с помощью **Allure**, который автоматически откроется в браузере с помощью команды в терминале:
  ```
   ./gradlew allureServe
   ```
После генерации и работы с отчётом, остановить работу **allureServe** в терминале сочетанием клавиш **CTRL + C** и подтвердить действие в терминале вводом **Y.**

Если необходимо перезапустить контейнеры, приложение или авто-тесты, нужно остановить работу сервисов в терминале сочетанием клавиш **CTRL + C** и перезапустить их, повторив шаги 1-3.
